{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yujar\\\\Desktop\\\\shoppies\\\\src\\\\components\\\\Shoppies.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Navigation = ({\n  handleLogout,\n  isLoggedIn,\n  setIsLoggedIn\n}) => {\n  _s();\n\n  const [show, setShow] = React.useState(false);\n  const [cuisines, setCuisines] = React.useState([]);\n  const history = useHistory();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n  /**\r\n   * Fetches a comprehensive list of unique cuisines from our DB \r\n   * @return {Array} an array of unique cuisines\r\n   */\n\n\n  async function fetchCuisines() {\n    try {\n      let response = await (await fetch(\"/api/search/restaurant/cuisines\")).json();\n      let cuisinesArr = [\"All cuisines\"];\n\n      for (let cuisine of response.cuisines) cuisinesArr.push(cuisine.cuisine);\n\n      return cuisinesArr;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function handleSubmitSearch(event) {\n    event.preventDefault();\n    let name = event.target.elements.restaurantSearchBar.value;\n    name = name.replaceAll(\"'\", \"''\");\n    console.log('name string:', name); // searchRestaurantsByName(name);\n\n    history.push(`/search/restaurant?name=${name}`);\n  }\n\n  function handleSelectCuisine(event) {\n    let cuisine = event.target.value; // searchRestaurantsByCuisine(cuisine);\n\n    history.push(`/search/restaurant?cuisine=${cuisine}`);\n  }\n\n  React.useEffect(() => {\n    // get list of unique quisines available from our DB\n    fetchCuisines().then(setCuisines).catch(console.log);\n    let cookies = document.cookie.split('='); // console.log('cookies split:', cookies);\n    // console.log('includes cookie', cookies.includes('account_id'));\n\n    if (cookies.includes('account_id')) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"sticky-top\",\n    style: {\n      backgroundColor: \"#2A9D8F\"\n    },\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 2,\n        md: 1,\n        className: \"align-self-end\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 2,\n        md: 2,\n        className: \"align-self-end\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: \"50px\",\n              fontFamily: \"Open Sans\",\n              color: \"white\",\n              WebkitTextStroke: \"1px F8F8F8\",\n              textShadow: \"0px 1px 4px #23430C\"\n            },\n            children: \"Hermes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        className: \"align-self-center mt-2\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmitSearch,\n          children: /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"align-items-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              lg: \"8\",\n              className: \"m-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"restaurantSearchBar\",\n                srOnly: true,\n                children: \"Enter a restaurant's name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    id: \"select-cuisines\",\n                    onChange: handleSelectCuisine,\n                    className: \"bg-light border-right-0\",\n                    children: cuisines.map((cuisine, index) => {\n                      return /*#__PURE__*/_jsxDEV(\"option\", {\n                        children: cuisine\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 32\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                  name: \"restaurantSearchBar\",\n                  placeholder: \"Enter a restaurant's name\",\n                  maxLength: \"40\",\n                  pattern: \"^[A-Za-z0-9']*$\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(InputGroup.Append, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline-secondary bg-light\",\n                    type: \"submit\",\n                    children: \"Go\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 1,\n        className: \"align-self-center\",\n        children: [!isLoggedIn && /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(LoginModal, {\n            showState: show,\n            handleClose: handleClose,\n            setIsLoggedIn: setIsLoggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            onClick: handleShow,\n            children: \" Login \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), isLoggedIn && /*#__PURE__*/_jsxDEV(Dropdown, {\n          children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n            variant: \"light\",\n            id: \"dropdown-basic\",\n            children: \"Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n            children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              href: \"#/action-1\",\n              children: \"Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              href: \"#/action-2\",\n              onClick: handleLogout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(Row, {\n      className: \"text-center text-white\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            color: \"inherit\"\n          },\n          to: \"/about-us\",\n          children: \"About Us\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            color: \"inherit\"\n          },\n          to: \"/customer-registration\",\n          children: \"SFSU Customer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            color: \"inherit\"\n          },\n          to: \"driver-registration\",\n          children: \"Driver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            color: \"inherit\"\n          },\n          to: \"restaurant-registration\",\n          children: \"Restaurant Owner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Navigation, \"NV+EMnvzzeg216jltULgsXxE+lc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Navigation;\nexport default Navigation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navigation\");","map":{"version":3,"sources":["C:/Users/yujar/Desktop/shoppies/src/components/Shoppies.js"],"names":["React","useHistory","Link","Container","Row","Col","Form","InputGroup","FormControl","Button","Image","Dropdown","Navigation","handleLogout","isLoggedIn","setIsLoggedIn","show","setShow","useState","cuisines","setCuisines","history","handleClose","handleShow","fetchCuisines","response","fetch","json","cuisinesArr","cuisine","push","err","console","log","handleSubmitSearch","event","preventDefault","name","target","elements","restaurantSearchBar","value","replaceAll","handleSelectCuisine","useEffect","then","catch","cookies","document","cookie","split","includes","backgroundColor","fontSize","fontFamily","color","WebkitTextStroke","textShadow","map","index"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n\r\n\r\nconst Navigation = ({ handleLogout, isLoggedIn, setIsLoggedIn }) => {\r\n  const [show, setShow] = React.useState(false);\r\n  const [cuisines, setCuisines] = React.useState([]);\r\n  const history = useHistory();\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  /**\r\n   * Fetches a comprehensive list of unique cuisines from our DB \r\n   * @return {Array} an array of unique cuisines\r\n   */\r\n  async function fetchCuisines() {\r\n    try {\r\n      let response = await (\r\n        await fetch(\"/api/search/restaurant/cuisines\")\r\n      ).json();\r\n      let cuisinesArr = [\"All cuisines\"];\r\n\r\n      for (let cuisine of response.cuisines) cuisinesArr.push(cuisine.cuisine);\r\n\r\n      return cuisinesArr;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  function handleSubmitSearch(event) {\r\n    event.preventDefault();\r\n    let name = event.target.elements.restaurantSearchBar.value;\r\n    name = name.replaceAll(\"'\", \"''\");\r\n    console.log('name string:', name);\r\n    // searchRestaurantsByName(name);\r\n    history.push(`/search/restaurant?name=${name}`)\r\n  }\r\n\r\n  function handleSelectCuisine(event) {\r\n    let cuisine = event.target.value;\r\n    // searchRestaurantsByCuisine(cuisine);\r\n    history.push(`/search/restaurant?cuisine=${cuisine}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    // get list of unique quisines available from our DB\r\n    fetchCuisines().then(setCuisines).catch(console.log);\r\n\r\n    let cookies = document.cookie.split('=');\r\n    // console.log('cookies split:', cookies);\r\n    // console.log('includes cookie', cookies.includes('account_id'));\r\n    if (cookies.includes('account_id')) {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container className=\"sticky-top\" style={{ backgroundColor: \"#2A9D8F\" }} fluid>\r\n      <Row >\r\n        <Col xs={2} md={1} className=\"align-self-end\">\r\n          <Link to=\"/\">\r\n\r\n          </Link>\r\n        </Col>\r\n\r\n        <Col xs={2} md={2} className=\"align-self-end\">\r\n          <Link to=\"/\">\r\n            <span\r\n              style={{\r\n                fontSize: \"50px\",\r\n                fontFamily: \"Open Sans\",\r\n                color: \"white\",\r\n                WebkitTextStroke: \"1px F8F8F8\",\r\n                textShadow: \"0px 1px 4px #23430C\"\r\n              }}\r\n            >Hermes</span>\r\n          </Link>\r\n        </Col>\r\n        <Col md={8} className=\"align-self-center mt-2\">\r\n          {/* Search bar */}\r\n          <Form onSubmit={handleSubmitSearch}>\r\n            <Form.Row className=\"align-items-center\">\r\n              <Col lg=\"8\" className=\"m-auto\">\r\n                {/* Label for screen readers only */}\r\n                <Form.Label htmlFor=\"restaurantSearchBar\" srOnly>\r\n                  Enter a restaurant's name\r\n              </Form.Label>\r\n\r\n                <InputGroup className=\"mb-2\">\r\n                  {/* Cuisine options */}\r\n                  <InputGroup.Prepend>\r\n                    <Form.Control\r\n                      as=\"select\"\r\n                      id=\"select-cuisines\"\r\n                      onChange={handleSelectCuisine}\r\n                      className=\"bg-light border-right-0\"\r\n                    >\r\n                      {cuisines.map((cuisine, index) => {\r\n                        return <option key={index}>{cuisine}</option>;\r\n                      })}\r\n                    </Form.Control>\r\n                  </InputGroup.Prepend>\r\n\r\n                  {/* Restaurant search bar (must match alphanumeric and can contain apostrophes */}\r\n                  <FormControl\r\n                    name=\"restaurantSearchBar\"\r\n                    placeholder=\"Enter a restaurant's name\"\r\n                    maxLength=\"40\"\r\n                    pattern=\"^[A-Za-z0-9']*$\"\r\n                  />\r\n\r\n                  {/* Submit search (button) */}\r\n                  <InputGroup.Append>\r\n                    <Button\r\n                      variant=\"outline-secondary bg-light\"\r\n                      type=\"submit\"\r\n                    >\r\n                      Go\r\n                  </Button>\r\n                  </InputGroup.Append>\r\n                </InputGroup>\r\n              </Col>\r\n            </Form.Row>\r\n          </Form>\r\n        </Col>\r\n        <Col md={1} className=\"align-self-center\">\r\n          {/* Login button - conditionally rendered */}\r\n          {\r\n            !isLoggedIn &&\r\n            <React.Fragment>\r\n              <LoginModal showState={show} handleClose={handleClose} setIsLoggedIn={setIsLoggedIn} />\r\n              <Button variant=\"light\" onClick={handleShow} > Login </Button>\r\n            </React.Fragment>\r\n          }\r\n          {/* Menu dropdown - conditionally rendered */}\r\n          {\r\n            isLoggedIn &&\r\n            <Dropdown>\r\n              <Dropdown.Toggle variant=\"light\" id=\"dropdown-basic\">\r\n                Menu\r\n            </Dropdown.Toggle>\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item href=\"#/action-1\">Account</Dropdown.Item>\r\n                <Dropdown.Item href=\"#/action-2\" onClick={handleLogout}>Logout</Dropdown.Item>\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          }\r\n        </Col>\r\n      </Row>\r\n\r\n      {!isLoggedIn &&\r\n        <Row className=\"text-center text-white\">\r\n          <Col><Link style={{ color: \"inherit\" }} to=\"/about-us\">About Us</Link></Col>\r\n          <Col><Link style={{ color: \"inherit\" }} to=\"/customer-registration\">SFSU Customer</Link></Col>\r\n          <Col><Link style={{ color: \"inherit\" }} to=\"driver-registration\">Driver</Link></Col>\r\n          <Col><Link style={{ color: \"inherit\" }} to=\"restaurant-registration\">Restaurant Owner</Link></Col>\r\n        </Row>}\r\n\r\n\r\n    </Container >\r\n\r\n  )\r\n}\r\n\r\nexport default Navigation;\r\n"]},"metadata":{},"sourceType":"module"}